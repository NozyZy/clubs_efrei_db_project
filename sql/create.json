{
  "sql": "DROP DATABASE IF EXISTS CLUBS_EFREI  \n  CREATE DATABASE CLUBS_EFREI  \n  USE CLUBS_EFREI \n  \n DROP TABLE IF EXISTS ETUDIANTS \n DROP TABLE IF EXISTS POSTE \n DROP TABLE IF EXISTS COMMITE \n DROP TABLE IF EXISTS BUDGET \n DROP TABLE IF EXISTS CALENDRIER_ARGENT \n DROP TABLE IF EXISTS TYPES_EVENT \n DROP TABLE IF EXISTS TYPES_CLUB \n DROP TABLE IF EXISTS ETATS_RAPPORTS \n DROP TABLE IF EXISTS CLUBS \n DROP TABLE IF EXISTS EVENEMENTS \n DROP TABLE IF EXISTS TACHES \n DROP TABLE IF EXISTS RAPPORTS \n DROP TABLE IF EXISTS TRAITEMENT \n DROP TABLE IF EXISTS MEMBRES \n DROP TABLE IF EXISTS RESPONSABILITES \n DROP TABLE IF EXISTS ORGANISE \n DROP TABLE IF EXISTS COMPOSE \n DROP TABLE IF EXISTS SIGNE \n DROP TABLE IF EXISTS STATUT \n  \n CREATE TABLE ETUDIANTS \n ( \n     NUM_ETUDIANT   VARCHAR(10), \n     NOM_ETUDIANT   CHAR(20)    NOT NULL, \n     CLASSE         VARCHAR(20) NOT NULL, \n     NIVEAU         VARCHAR(20) NOT NULL, \n     GENRE          VARCHAR(10) NOT NULL, \n     DATE_NAISSANCE DATE        NOT NULL, \n     PRIMARY KEY (NUM_ETUDIANT) \n ) \n  \n CREATE TABLE POSTE \n ( \n     POSTE_ID INT AUTO_INCREMENT, \n     TITRE    VARCHAR(25) NOT NULL, \n     PRIMARY KEY (POSTE_ID) \n ) \n  \n CREATE TABLE COMMITE \n ( \n     COMITE_ID        INT AUTO_INCREMENT, \n     DATE_CREATION    DATE NOT NULL, \n     DATE_DISSOLUTION DATE, \n     PRIMARY KEY (COMITE_ID) \n ) \n  \n CREATE TABLE BUDGET \n ( \n     BUDGET_ID INT AUTO_INCREMENT, \n     MONTANT   DECIMAL NOT NULL, \n     PRIMARY KEY (BUDGET_ID) \n ) \n  \n CREATE TABLE CALENDRIER_ARGENT \n ( \n     CALENDRIER_ID  INT AUTO_INCREMENT, \n     VARIATION      DECIMAL  NOT NULL, \n     AFFECTATION    CHAR(50), \n     DATE_VARIATION DATETIME NOT NULL, \n     COMITE_ID      INT      NOT NULL, \n     BUDGET_ID      INT      NOT NULL, \n     PRIMARY KEY (CALENDRIER_ID), \n     FOREIGN KEY (COMITE_ID) REFERENCES COMMITE (COMITE_ID), \n     FOREIGN KEY (BUDGET_ID) REFERENCES BUDGET (BUDGET_ID) \n ) \n  \n CREATE TABLE TYPES_EVENT \n ( \n     TYPE_ID    INT AUTO_INCREMENT, \n     TYPE_EVENT VARCHAR(20) NOT NULL, \n     PRIMARY KEY (TYPE_ID), \n     UNIQUE (TYPE_EVENT) \n ) \n  \n CREATE TABLE TYPES_CLUB \n ( \n     TYPE_ID   INT AUTO_INCREMENT, \n     TYPE_CLUB VARCHAR(20) NOT NULL, \n     PRIMARY KEY (TYPE_ID), \n     UNIQUE (TYPE_CLUB) \n ) \n  \n CREATE TABLE ETATS_RAPPORTS \n ( \n     ETAT_ID INT AUTO_INCREMENT, \n     ETAT    VARCHAR(50) NOT NULL, \n     PRIMARY KEY (ETAT_ID), \n     UNIQUE (ETAT) \n ) \n  \n CREATE TABLE TYPE_TRAITEMENT \n ( \n     TRAITEMENT_ID INT AUTO_INCREMENT, \n     INTITULE      CHAR(50) NOT NULL, \n     PRIMARY KEY (TRAITEMENT_ID), \n     UNIQUE (INTITULE) \n ) \n  \n CREATE TABLE PROVENANCES \n ( \n     PROVENANCE_ID INT AUTO_INCREMENT, \n     INTITULE      CHAR(50) NOT NULL, \n     PRIMARY KEY (PROVENANCE_ID), \n     UNIQUE (INTITULE) \n ) \n  \n  \n CREATE TABLE CLUBS \n ( \n     CLUB_ID       INT AUTO_INCREMENT, \n     NOM_CLUB      VARCHAR(25) NOT NULL, \n     DATE_CREATION DATE        NOT NULL, \n     DESCRIPTION   VARCHAR(200), \n     TYPE_ID       INT         NOT NULL, \n     PRIMARY KEY (CLUB_ID), \n     UNIQUE (NOM_CLUB), \n     FOREIGN KEY (TYPE_ID) REFERENCES TYPES_CLUB (TYPE_ID) \n ) \n  \n CREATE TABLE EVENEMENTS \n ( \n     EVENT_ID   INT AUTO_INCREMENT, \n     NOM_EVENT        CHAR(50) NOT NULL, \n     DATE_DEBUT DATETIME NOT NULL, \n     DATE_FIN   DATETIME NOT NULL, \n     TYPE_ID    INT      NOT NULL, \n     BUDGET_ID  INT      NOT NULL, \n     COMITE_ID  INT, \n     PRIMARY KEY (EVENT_ID), \n     UNIQUE (BUDGET_ID), \n     FOREIGN KEY (TYPE_ID) REFERENCES TYPES_EVENT (TYPE_ID), \n     FOREIGN KEY (BUDGET_ID) REFERENCES BUDGET (BUDGET_ID), \n     FOREIGN KEY (COMITE_ID) REFERENCES COMMITE (COMITE_ID) \n ) \n  \n CREATE TABLE TACHES \n ( \n     TACHE_ID       INT AUTO_INCREMENT, \n     DESCRIPTION    CHAR(200)   NOT NULL, \n     CALENDRIER_ID  INT         NOT NULL, \n     EVENT_ID       INT         NOT NULL, \n     RESPONSABLE_ID VARCHAR(10) NOT NULL, \n     PRIMARY KEY (TACHE_ID), \n     FOREIGN KEY (CALENDRIER_ID) REFERENCES CALENDRIER_ARGENT (CALENDRIER_ID), \n     FOREIGN KEY (EVENT_ID) REFERENCES EVENEMENTS (EVENT_ID), \n     FOREIGN KEY (RESPONSABLE_ID) REFERENCES ETUDIANTS (NUM_ETUDIANT) \n ) \n  \n  \n CREATE TABLE RAPPORTS \n ( \n     RAPPORT_ID      INT AUTO_INCREMENT, \n     DATE_ECRITURE   DATE, \n     DATE_SOUMISSION DATE, \n     ETAT_ID         INT NOT NULL, \n     CLUB_ID         INT NOT NULL, \n     PRIMARY KEY (RAPPORT_ID), \n     FOREIGN KEY (ETAT_ID) REFERENCES ETATS_RAPPORTS (ETAT_ID), \n     FOREIGN KEY (CLUB_ID) REFERENCES CLUBS (CLUB_ID) \n ) \n  \n CREATE TABLE TRAITEMENT \n ( \n     TRAITEMENT_ID   INT AUTO_INCREMENT, \n     OBJET           VARCHAR(200) NOT NULL, \n     DATE_TRAITEMENT DATE         NOT NULL, \n     PROVENANCE_ID   INT          NOT NULL, \n     TYPE_ID         INT          NOT NULL, \n     CLUB_ID         INT          NOT NULL, \n     PRIMARY KEY (TRAITEMENT_ID), \n     FOREIGN KEY (PROVENANCE_ID) REFERENCES PROVENANCES (PROVENANCE_ID), \n     FOREIGN KEY (TYPE_ID) REFERENCES TYPE_TRAITEMENT (TRAITEMENT_ID), \n     FOREIGN KEY (CLUB_ID) REFERENCES CLUBS (CLUB_ID) \n ) \n  \n  \n CREATE TABLE MEMBRES \n ( \n     CLUB_ID      INT, \n     NUM_ETUDIANT VARCHAR(10), \n     PRIMARY KEY (CLUB_ID, NUM_ETUDIANT), \n     FOREIGN KEY (CLUB_ID) REFERENCES CLUBS (CLUB_ID), \n     FOREIGN KEY (NUM_ETUDIANT) REFERENCES ETUDIANTS (NUM_ETUDIANT) \n ) \n  \n CREATE TABLE RESPONSABILITES \n ( \n     CLUB_ID      INT, \n     NUM_ETUDIANT VARCHAR(10), \n     POSTE_ID     INT, \n     DATE_DEBUT   DATE NOT NULL, \n     DATE_FIN     DATE NOT NULL, \n     PRIMARY KEY (CLUB_ID, NUM_ETUDIANT, POSTE_ID), \n     FOREIGN KEY (CLUB_ID) REFERENCES CLUBS (CLUB_ID), \n     FOREIGN KEY (NUM_ETUDIANT) REFERENCES ETUDIANTS (NUM_ETUDIANT), \n     FOREIGN KEY (POSTE_ID) REFERENCES POSTE (POSTE_ID) \n ) \n  \n CREATE TABLE ORGANISE \n ( \n     CLUB_ID  INT, \n     EVENT_ID INT, \n     PRIMARY KEY (CLUB_ID, EVENT_ID), \n     FOREIGN KEY (CLUB_ID) REFERENCES CLUBS (CLUB_ID), \n     FOREIGN KEY (EVENT_ID) REFERENCES EVENEMENTS (EVENT_ID) \n ) \n  \n CREATE TABLE COMPOSE \n ( \n     NUM_ETUDIANT VARCHAR(10), \n     POSTE_ID     INT, \n     COMITE_ID    INT, \n     PRIMARY KEY (NUM_ETUDIANT, POSTE_ID, COMITE_ID), \n     FOREIGN KEY (NUM_ETUDIANT) REFERENCES ETUDIANTS (NUM_ETUDIANT), \n     FOREIGN KEY (POSTE_ID) REFERENCES POSTE (POSTE_ID), \n     FOREIGN KEY (COMITE_ID) REFERENCES COMMITE (COMITE_ID) \n ) \n  \n CREATE TABLE SIGNE \n ( \n     NUM_ETUDIANT   VARCHAR(10), \n     RAPPORT_ID     INT, \n     DATE_SIGNATURE DATETIME, \n     PRIMARY KEY (NUM_ETUDIANT, RAPPORT_ID), \n     FOREIGN KEY (NUM_ETUDIANT) REFERENCES ETUDIANTS (NUM_ETUDIANT), \n     FOREIGN KEY (RAPPORT_ID) REFERENCES RAPPORTS (RAPPORT_ID) \n ) \n "
}
